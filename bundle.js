(()=>{var t={296:t=>{function r(t,r,n){var e,i,o,p,s;function u(){var l=Date.now()-p;l<r&&l>=0?e=setTimeout(u,r-l):(e=null,n||(s=t.apply(o,i),o=i=null))}null==r&&(r=100);var l=function(){o=this,i=arguments,p=Date.now();var l=n&&!e;return e||(e=setTimeout(u,r)),l&&(s=t.apply(o,i),o=i=null),s};return l.clear=function(){e&&(clearTimeout(e),e=null)},l.flush=function(){e&&(s=t.apply(o,i),o=i=null,clearTimeout(e),e=null)},l}r.debounce=r,t.exports=r}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}(()=>{"use strict";const t=async function(t){var r;"discord"==t&&(t+=".py");let n="https://stormy-tor-99017.herokuapp.com/https://pypi.org/pypi/"+t+"/json";return await fetch(n).then((t=>t.json())).then((t=>r=t)),function(t){let r,n=t.info.project_urls.Documentation,e=t.info.project_urls.Homepage;return r=null!==n?n:e,r?{url:r,description:t.info.summary}:{url:`https://pypi.org/project/${t.info.name}`,description:t.info.summary}}(r)},r=async function(t,r=!0){var n;"discord"==t&&(t+=".js");let e="https://stormy-tor-99017.herokuapp.com/https://registry.npmjs.org/"+t;return await fetch(e).then((t=>t.json())).then((t=>n=t)),"homepage"in n?{description:n.description,url:n.homepage}:"repository"in n?{description:n.description,url:n.repository.url.replace("git+","")}:"error"in n?{description:"",url:"https://www.npmjs.com/package/"+t.split(".")[0]}:{description:n.description.endsWith(".")?n.description:n.description+".",url:"https://www.npmjs.com/package/"+t.split(".")[0]}};var e=n(296);chrome.omnibox.setDefaultSuggestion({description:"Search any .js or .py library"}),chrome.omnibox.onInputChanged.addListener((0,e.debounce)((function(n,e){if(n.includes(".")){var i=n.split(".")[0],o=n.split(".")[1];"py"==o?(t(n).then((t=>{t.url.length?e([{content:(n.endsWith(".py")?n:n+".py")+"^",description:(n.endsWith(".py")?n:n+".py")+": "+t.description+". <url>"+t.url+"</url>"}]):e([])})),t(i).then((t=>{t.url.length?e([{content:(n.endsWith(".py")?n:n+".py")+"^",description:(n.endsWith(".py")?n:n+".py")+": "+t.description+". <url>"+t.url+"</url>"}]):e([])}))):"js"==o&&r(i).then((t=>{t.url.length?e([{content:(n.endsWith(".py")?n:n+".py")+"^",description:(n.endsWith(".js")?n:n+".js")+": "+t.description+" <url>"+t.url+"</url>"}]):e([])}))}else r(n).then((t=>{t.url.length?e([{content:n+".js",description:n+".js: "+t.description+" <url>"+t.url+"</url>"}]):e([])})),t(n).then((t=>{t.url.length?e([{content:n+".py",description:n+".py: "+t.description+". <url>"+t.url+"</url>"}]):e([])}))}),200)),chrome.omnibox.onInputEntered.addListener((n=>{var e=(n=n.replace("^","")).split(".")[0],i=n.split(".")[1];"py"==i?t(e).then((t=>chrome.tabs.update({url:t.url}))):"js"==i&&r(e).then((t=>chrome.tabs.update({url:t.url})))}))})()})();